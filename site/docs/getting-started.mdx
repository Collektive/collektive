---
sidebar_position: 1
sidebar_label: Getting Started
id: gettingstarted
title: Getting Started
---


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

**Collektive** is composed of several independent components:

- The core _DSL_ (Domain Specific Language) defining the language syntax and semantics.
- The _compiler plugin_ used to automatically devise the communication protocol based on the program's structure.
- The _stdlib_ (Standard Library) providing common functionalities and data structures.

## Compiler plugin setup

To use **Collektive** in your project, first add the **compiler plugin** to your `build.gradle.kts` file:

```kotlin
plugins {
    kotlin("multiplatform") version "<kotlin_version>"
    id("it.unibo.collektive.collektive-plugin") version "<latest version>"
}
```

:::danger
The **compiler plugin** it's a mandatory component of the **Collektive** ecosystem. It is used to automatically devise
the communication protocol based on the program's structure.

Without this plugin, the program will **NOT** run as expected at runtime.
:::

## Dependencies setup
To start you app development, add the `dsl` and (optionally) the `stdlib` dependencies to your `build.gradle.kts` file:

<Tabs>
<TabItem value="multiplatform" label="Multiplatform">

```kotlin
kotlin {
    jvm()
    js()
    ...
    sourceSets {
        val commonMain by getting {
            dependencies {
                implementation("it.unibo.collektive:dsl:<latest version>")
                implementation("it.unibo.collektive:stdlib:<latest version>")
            }
        }
    }
}
```

</TabItem>
<TabItem value="jvm" label="JVM only">

```kotlin
dependencies {
    implementation("it.unibo.collektive:dsl:<latest version>")
    implementation("it.unibo.collektive:stdlib:<latest version>")
}
```

</TabItem>
</Tabs>

:::tip[**Collektive** :heart: Kotlin Multiplatform]

**Collektive** supports [KMP](https://kotlinlang.org/docs/multiplatform-intro.html) (Kotlin Multiplatform) projects, allowing you to use the DSL in Native, JS, and JVM environments.       
Currently, the following platforms are supported:
- **JVM**
- **JS** (node.js and browser)
- **Native** (iOS, macOS, Linux, Windows)
:::

## How to run

Let us consider the examples of library usage presented in [this repository](https://github.com/Collektive/collektive-examples).

To run the examples, you need to clone the on your pc, moving into the root folder and running the following command:

```bash
./gradlew run<ExampleName>Batch
```

Where `<ExampleName>` is the name of the example you want to run in batch mode.

### Running graphical simulations

It is possible to run also the graphical simulations with the [Alchemist simulator](https://alchemistsimulator.github.io).

You can list the available simulations by running the following command:

```bash
./gradlew tasks --all
```

And it will list all the available tasks, including the ones for the graphical simulations in the section "Run Alchemist tasks", or:

```bash
./gradlew run<ExampleName>Graphic
```

Where `<ExampleName>` is the name of the example you want to run in Graphic mode.

*Note: to run a program with the Graphics mode, it is essential that the environment variable `env:CI` is set to false.*

This variable determines whether the system is operating in a Continuous Integration (CI) environment. If the variable is set to true, certain arguments in the YAML files defined in the build.gradle are overridden. For instance, [in this case](https://github.com/angelacorte/collektive-stdlib-simulations/blob/c0730883e27299c7bb7daa5ea86035c77965bb26/build.gradle.kts#L108), a termination condition for the simulation is added after 2 simulated seconds. 

To configure the environment variable, the following command is used:

#### Linux
```bash
export CI=true
```
```bash
export CI=false
```

#### Windows
```power-shell
$env:CI="true" 
```
```power-shell
$env:CI="false" 
```

### How to add new task

To add a new experiment, simply create a new .yml file in the same folder as the other experiments. Gradle will automatically generate the tasks required to run the experiment.