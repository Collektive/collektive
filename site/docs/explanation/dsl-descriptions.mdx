---
title: Aggregate Operators and Field Operations
---

## Fields

The `Field` is the data structure shared among the devices of a network.

Each field contains the `ID` of the device itself as well as its **local value**,
and the IDs of the neighbors and their values.
For example, the field shared by a single device with ID `0` in a network is:
```
0=ϕ(localId=0, localValue=0, neighbors={})
```
Note that, hence no neighbors are present, the `neighbors` field is empty.

Suppose that there are three devices all connected to each other:

![](/img/devices.svg)

Device with ID `0` has a local value of `5`,
device with ID `1` has a local value of `10`,
and device with ID `2` has a local value of `15`.

Those are the fields that each device sees:
```
0=ϕ(localId=0, localValue=5, neighbors={1=10, 2=15}) // field seen by device 0
1=ϕ(localId=1, localValue=10, neighbors={0=5, 2=15}) // field seen by device 1
2=ϕ(localId=2, localValue=15, neighbors={0=5, 1=10}) // field seen by device 2
```




## Aggregate Operators

The main operators of the `DSL` are the following:

---
### Exchange

[`exchange`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api/-aggregate/exchange.html)
is the foundation of `XC`,
has the crucial aspect that can send different values to each neighbor,
allowing custom interaction between them.
It models the space-time evolution of the device.

![](/img/exchange.svg)

#### Example

```kotlin

exchange(localId) { field ->

}
```


---
### Exchanging
[`exchanging`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api/-aggregate/exchanging.html)

---

### Share
[share](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api.operators/share.html)
models the device space-time evolution.


![](/img/share.svg)

---

### Sharing

[`sharing`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api.operators/sharing.html)

---

### Neighboring

[`neighboring`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api/-aggregate/neighboring.html)
allows to access the values of the neighbours and send them information.

![](/img/nbr.svg)

---

### Neighboring via Exchange

[`neighboringViaExchange`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api.operators/neighboring-via-exchange.html)

---

### Evolve

[`evolve`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api/-aggregate/evolve.html)
allows to model the state evolution of the device over time.

---

### Evolving

[`evolving`](https://javadoc.io/doc/it.unibo.collektive/dsl/latest/dsl/it.unibo.collektive.aggregate.api/-aggregate/evolving.html)


## Field Operations

TODO
